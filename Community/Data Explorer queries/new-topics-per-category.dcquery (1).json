{
    "query": {
        "id": 6,
        "sql": "-- [params]\n-- int :months_ago = 1\n\nWITH query_period as (\n    SELECT\n        date_trunc('month', CURRENT_DATE) - INTERVAL ':months_ago months' as period_start,\n        date_trunc('month', CURRENT_DATE) - INTERVAL ':months_ago months' + INTERVAL '1 month' - INTERVAL '1 second' as period_end\n)\n\nSELECT\n    t.category_id,\n    count(1) as topic_count\nFROM topics t\nRIGHT JOIN query_period qp\n    ON t.created_at >= qp.period_start\n        AND t.created_at <= qp.period_end\nWHERE t.user_id > 0\n    AND t.category_id IS NOT NULL\nGROUP BY t.category_id\nORDER BY topic_count DESC",
        "name": "New topics per category",
        "description": "Returns the number of new topics created in each category for a given month, ordered by topic_count. The query accepts a ‘months ago’ parameter, defaults to 0 to give the results for the current month.\n\n",
        "param_info": [
            {
                "identifier": "months_ago",
                "type": "int",
                "default": "1",
                "nullable": false
            }
        ],
        "created_at": "2020-11-18T17:57:50.953Z",
        "username": "OdysLam",
        "group_ids": [],
        "last_run_at": "2020-11-23T15:50:11.871Z",
        "hidden": false,
        "user_id": 233
    }
}